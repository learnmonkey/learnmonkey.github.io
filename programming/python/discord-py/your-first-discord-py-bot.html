---
layout: discord-py
title: Your First Discord.py Bot
permalink: /programming/python/discord-py/your-first-discord-py-bot/
---

<h1>Your First Discord.py Bot</h1>

<section>
    <h2>Connecting to the Bot</h2>
    <p>To connect to the bot, we need to make a bot client with the bot token: </p>
    <pre><code class="language-python">
import discord

client = discord.Client()
client.run("your bot token")
    </code></pre>
    <p>When you run the script, you should see your bot is coming online in the server.</p>
</section>

<section>
    <h2>Receiving Messages</h2>
    <p>To receive messages, we can use an event when a message is sent in the server: </p>
    <pre><code class="language-python">
import discord

client = discord.Client()

@client.event
async def on_message(message):
    print(message.content)

client.run("token")
    </code></pre>
    <p>The above code prints out the contents of every message sent in the server.</p>
    <p>Notice how there is an at symbol (<code>@</code>) in front of the <code>on_message</code> function. This is a decorator. Also notice how the function is asynchronous. That means that we don't need to wait for something else to happen in the bot. Right now, our bot is small and it doesn't really matter that much, but imagine your bot became really popular and you would have to wait for everything else.</p>
</section>

<section>
    <h2>Checking For Messages</h2>
    <p>Of course, bots need commands and we need to listen for them. We can do this by simply putting some if statements in the <code>on_message</code> listener. For example: </p>
    <pre><code class="language-python">
import discord

client = discord.Client()

@client.event
async def on_message(message):
    if message.content == "$hello":
        print("Hello!")

client.run("token")
    </code></pre>
</section>

<section>
    <h2>Sending Messages</h2>
    <p>To send a message when a command is issued, we first check for the channel where it was issued and send it there: </p>
    <pre><code class="language-python">
import discord

client = discord.Client()

@client.event
async def on_message(message):
    if message.content == "$hello":
        await message.channel.send("Hello!")

client.run("token")
    </code></pre>
    <p>The <code>await</code> keyword is used to make the message sending asynchronously.</p>
</section>